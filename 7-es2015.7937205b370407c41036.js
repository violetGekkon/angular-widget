(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{pU93:function(t,e,i){"use strict";i.r(e),i.d(e,"SettingsModule",function(){return O});var n=i("qTtY"),s=i("tyNb"),o=i("fXoL"),c=i("jtHE"),l=i("XNiG"),r=i("xgIS"),a=i("1G5W"),h=i("3UWI"),g=i("/uUt"),d=i("ofXK"),p=i("vxfF");class m{constructor(t,e){this.element=t,this.index=e,this._top=0}setTop(t,e){console.log(this.element.id+" top = "+this.element.getBoundingClientRect().top),this._top=e+this.element.getBoundingClientRect().top-t,console.log("elem.top = "+this._top)}}class b{constructor(t){this.activeElement=new c.a(1),this.scrollWatchedElements=t.map((t,e)=>new m(t,e))}calculate(t,e){this.scrollWatchedElements.forEach(i=>{i.setTop(t,e)}),this.scrollWatchedElements.sort((t,e)=>e._top-t._top)}onScroll(t,e){let i=null;t+1>=e?i=this.scrollWatchedElements[0]:this.scrollWatchedElements.some(e=>e._top<=t&&(i=e,!0)),this.activeElement.next(i)}}let f=(()=>{class t{constructor(t,e){this.doc=t,this.scroll=e,this.matContainer=this.doc.querySelector("mat-sidenav-content"),this.scrollWatchedElementSets=[],this.stopTrack$=new l.a,this.scrollEvents=this.scroll.scrolled(10).pipe(Object(a.a)(this.stopTrack$)),this.resizeEvents=Object(r.a)(window,"resize").pipe(Object(h.a)(300),Object(a.a)(this.stopTrack$))}watch(t){console.log("-------------------------------------------------------------------------"),this.scrollWatchedElementSets.length||(console.log("this.scrollWatchedElementSets.length === 0"),this.scrollEvents.subscribe(()=>this.onScroll()),this.resizeEvents.subscribe(()=>this.onResize()),this.onResize());const e=this.matContainer.scrollTop;console.log("scrollTop = "+e);const i=this.matContainer.scrollHeight;console.log("maxScrollHeight = "+i);const n=this.getTopOffset();console.log("topOffset = "+n);const s=new b(t);return s.calculate(n,e),s.onScroll(e,i),this.scrollWatchedElementSets.push(s),{active:s.activeElement.asObservable().pipe(Object(g.a)()),stopWatching:()=>this.stopWatching(s)}}onScroll(){this.scrollHeight!==this.matContainer.scrollHeight&&this.onResize();const t=this.matContainer.scrollTop,e=this.matContainer.scrollHeight;this.scrollWatchedElementSets.forEach(i=>i.onScroll(t,e))}onResize(){console.log("onResize"),this.scrollHeight=this.matContainer.scrollHeight,console.log("scrollHeight = "+this.scrollHeight),this.maxScrollHeight=this.scrollHeight-this.matContainer.clientHeight;const t=this.getTopOffset(),e=this.matContainer.scrollTop;console.log("matContainer.scrollTop = "+e),this.scrollWatchedElementSets.forEach(i=>i.calculate(t,e))}getTopOffset(){const t=document.querySelector("mat-toolbar");return t&&t.clientHeight+30||0}stopWatching(t){t.activeElement.complete(),this.scrollWatchedElementSets=this.scrollWatchedElementSets.filter(e=>e!==t),this.scrollWatchedElementSets.length||this.stopTrack$.next()}}return t.\u0275fac=function(e){return new(e||t)(o.Yb(d.d),o.Yb(p.c))},t.\u0275prov=o.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=i("znSr");const v=["settingsContainer"],x=function(t){return{"ci-settings-list-item-active":t}};function w(t,e){if(1&t&&(o.Ub(0,"li"),o.Ub(1,"a",10),o.Bc(2),o.Tb(),o.Tb()),2&t){const t=e.$implicit,i=e.index,n=o.gc();o.Cb(1),o.lc("ngClass",o.oc(3,x,i===n.activeIndex))("fragment",t.fragment),o.Cb(1),o.Dc(" ",t.title,"")}}let C=(()=>{class t{constructor(t){this.scrollWatcherService=t,this.activeIndex=null,this.settingsList=[{title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0423\u0422\u041c",fragment:"utm"},{title:"IP-\u0444\u0438\u043b\u044c\u0442\u0440",fragment:"ipfilter"},{title:"XML \u0441\u0445\u0435\u043c\u044b",fragment:"xsd"},{title:"\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b",fragment:"certificates"}],this.settingItems=[{id:"utm",header:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0423\u0422\u041c"},{id:"ipfilter",header:"\u0424\u0438\u043b\u044c\u0442\u0440 IP-\u0430\u0434\u0440\u0435\u0441\u043e\u0432"},{id:"xsd",header:"XML c\u0445\u0435\u043c\u044b"},{id:"certificates",header:"\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b"}]}ngOnInit(){}ngAfterViewInit(){this.settingsContainers.forEach(t=>console.log(t.nativeElement.getBoundingClientRect().top))}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(f))},t.\u0275cmp=o.Ib({type:t,selectors:[["app-settings-page"]],viewQuery:function(t,e){if(1&t&&o.Fc(v,1,o.l),2&t){let t;o.qc(t=o.dc())&&(e.settingsContainers=t)}},decls:22,vars:1,consts:[[1,"ci-settings-viewer"],[1,"ci-settings-viewer-content"],["id","utm",1,"ci-settings-content-card"],["settingsContainer",""],[1,"ci-heading"],["id","ipfilter",1,"ci-settings-content-card"],["id","xsd",1,"ci-settings-content-card"],["id","certificates",1,"ci-settings-content-card"],[1,"ci-settings-viewer-list"],[4,"ngFor","ngForOf"],["routerLink","/settings","routerLinkActiveOptions","{exact:true}",1,"ci-link",3,"ngClass","fragment"]],template:function(t,e){1&t&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Ub(2,"div",2,3),o.Ub(4,"h3",4),o.Bc(5,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0423\u0422\u041c"),o.Tb(),o.Tb(),o.Ub(6,"div",5,3),o.Ub(8,"h3",4),o.Bc(9,"\u0424\u0438\u043b\u044c\u0442\u0440 IP-\u0430\u0434\u0440\u0435\u0441\u043e\u0432"),o.Tb(),o.Tb(),o.Ub(10,"div",6,3),o.Ub(12,"h3",4),o.Bc(13,"XML c\u0445\u0435\u043c\u044b"),o.Tb(),o.Ub(14,"div"),o.Ub(15,"div",7,3),o.Ub(17,"h3",4),o.Bc(18,"\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b"),o.Tb(),o.Tb(),o.Tb(),o.Ub(19,"div",8),o.Ub(20,"ul"),o.Ac(21,w,3,5,"li",9),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&t&&(o.Cb(21),o.lc("ngForOf",e.settingsList))},directives:[d.k,s.c,d.j,u.a],styles:[".ci-settings-viewer-content[_ngcontent-%COMP%]{font-size:15px;max-width:85%}.ci-settings-viewer-content[_ngcontent-%COMP%], .ci-settings-viewer-list[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ci-settings-viewer-list[_ngcontent-%COMP%]{padding:5px 0 10px 16px;border-left:2px solid #0b5ca6;position:fixed;top:100px;right:0;width:12%}.ci-settings-viewer-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;margin:0 0 5px;padding:0;overflow:hidden}.ci-settings-viewer-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:15px;line-height:16px;margin:0;padding:5px 15px 5px 0}.ci-settings-viewer-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{opacity:.6;color:#0b5ca6;font-weight:400;-webkit-transition:opacity .3s ease-in-out;transition:opacity .3s ease-in-out}.ci-settings-viewer-list[_ngcontent-%COMP%]   a.ci-settings-list-item-active[_ngcontent-%COMP%], .ci-settings-viewer-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1}.ci-settings-content-card[_ngcontent-%COMP%]{margin-bottom:35px;background:#fff;border:1px solid #e0e4e7;padding:12px;height:400px}"]}),t})(),O=(()=>{class t{}return t.\u0275mod=o.Mb({type:t}),t.\u0275inj=o.Lb({factory:function(e){return new(e||t)},imports:[[n.a,s.d.forChild([{path:"",component:C}])]]}),t})()}}]);