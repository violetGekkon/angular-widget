(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"Ig+x":function(t,e,a){"use strict";a.r(e),a.d(e,"routes",function(){return yt}),a.d(e,"MarketParticipantsModule",function(){return St});var r=a("tyNb"),i=a("LRne"),c=a("PqYM");const n=[{fsrarId:"030000334465",fullName:"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f 1",inn:"7799060060",kpp:"7799060101",firmType:"\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c"},{fsrarId:"030000333524",fullName:"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f 2",inn:"7799060060",kpp:"7799060101",firmType:"\u0438\u043c\u043f\u043e\u0440\u0442\u0435\u0440 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c"},{fsrarId:"030000338867",fullName:"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f 3",inn:"7799060060",kpp:"7799060101",firmType:"\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0440\u043e\u0437\u043d\u0438\u0446\u0430"},{fsrarId:"030000330907",fullName:"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f 4",inn:"7799060060",kpp:"7799060101",firmType:"\u043e\u043f\u0442\u043e\u0432\u0438\u043a"}],s=[{fsrarId:"030000334465",fullName:"Organization 1",inn:"7799060060",kpp:"7799060101",firmType:"\u0438\u043c\u043f\u043e\u0440\u0442\u0435\u0440 \u043e\u043f\u0442\u043e\u0432\u0438\u043a"},{fsrarId:"030000333524",fullName:"Organization 2",inn:"7799060060",kpp:"7799060101",firmType:"\u043e\u043f\u0442\u043e\u0432\u0438\u043a \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c"},{fsrarId:"030000338867",fullName:"Organization 3",inn:"7799060060",kpp:"7799060101",firmType:"\u043e\u043f\u0442\u043e\u0432\u0438\u043a \u043f\u0435\u0440\u0435\u0432\u043e\u0437\u0447\u0438\u043a"},{fsrarId:"030000330907",fullName:"Organization 4",inn:"7799060060",kpp:"7799060101",firmType:"\u043e\u0431\u0449\u0435\u043f\u0438\u0442"}],o=[{id:0,title:"\u041f\u0425\u041f",count:"0"},{id:1,title:"\u0420\u041f\u0410",count:"0"},{id:2,title:"\u0420\u041f\u041e",count:"0"},{id:3,title:"\u0417\u0425\u041f",count:"0"}];var l=a("vkgz"),u=a("eIep"),b=a("fXoL"),p=a("tk/3");let m=(()=>{class t{constructor(t){this.http=t}getAllMarketParticipants(){return Object(i.a)(n)}getCounterparties(){return Object(i.a)(s)}getLicenseGroup(){let t=0;return Object(c.a)(5e3,1e4).pipe(Object(l.a)(e=>t+=1),Object(u.a)(e=>Object(i.a)(o.map(e=>Object.assign(Object.assign({},e),{count:(+e.count+t).toString()})))))}getPage(t){return this.http.post("/api/v1/RetailCompanies/SearchCompany",t)}}return t.\u0275fac=function(e){return new(e||t)(b.Yb(p.a))},t.\u0275prov=b.Kb({token:t,factory:t.\u0275fac}),t})();const f=new Map([["\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c","maker"],["\u0438\u043c\u043f\u043e\u0440\u0442\u0435\u0440 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c","maker-importer"],["\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0440\u043e\u0437\u043d\u0438\u0446\u0430","maker-retailer"],["\u0438\u043c\u043f\u043e\u0440\u0442\u0435\u0440 \u043e\u043f\u0442\u043e\u0432\u0438\u043a \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c","maker-importer-wholesaler"],["\u043e\u043f\u0442\u043e\u0432\u0438\u043a","wholesaler"],["\u0438\u043c\u043f\u043e\u0440\u0442\u0435\u0440 \u043e\u043f\u0442\u043e\u0432\u0438\u043a","wholesaler-importer"],["\u043e\u043f\u0442\u043e\u0432\u0438\u043a \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c","maker-wholesaler"],["\u043e\u043f\u0442\u043e\u0432\u0438\u043a \u043f\u0435\u0440\u0435\u0432\u043e\u0437\u0447\u0438\u043a","wholesaler-carrier"],["\u043e\u0431\u0449\u0435\u043f\u0438\u0442","catering"],["\u043e\u0431\u0449\u0435\u043f\u0438\u0442 \u0440\u043e\u0437\u043d\u0438\u0446\u0430","catering-retailer"],["\u043f\u0435\u0440\u0435\u0432\u043e\u0437\u0447\u0438\u043a","carrier"]]);var h=a("XNiG"),d=a("XiUz"),g=a("ofXK");const v=function(t){return{active:t}};function T(t,e){if(1&t){const t=b.Vb();b.Ub(0,"div",2),b.cc("click",function(){b.tc(t);const a=e.$implicit;return b.gc().select(a)}),b.Ub(1,"span"),b.Bc(2),b.Tb(),b.Ub(3,"span"),b.Bc(4),b.Tb(),b.Tb()}if(2&t){const t=e.$implicit;b.lc("ngClass",b.oc(3,v,t.active)),b.Cb(2),b.Cc(t.title),b.Cb(2),b.Cc(t.count)}}let y=(()=>{class t{constructor(){this.filters=[],this.changeFilter=new h.a}ngOnInit(){}select(t){t.active=!t.active,this.changeFilter.next(this.filters)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Ib({type:t,selectors:[["app-filters"]],inputs:{group:"group",filters:"filters"},decls:2,vars:1,consts:[["fxLayout","row","fxLayoutGap","26px"],["fxLayout","column","class","filter",3,"ngClass","click",4,"ngFor","ngForOf"],["fxLayout","column",1,"filter",3,"ngClass","click"]],template:function(t,e){1&t&&(b.Ub(0,"div",0),b.Ac(1,T,5,5,"div",1),b.Tb()),2&t&&(b.Cb(1),b.lc("ngForOf",e.filters))},directives:[d.c,d.d,g.k,g.j],styles:[".filter[_ngcontent-%COMP%]:hover{cursor:pointer}.filter.active[_ngcontent-%COMP%]{color:red}"]}),t})();var S=a("1G5W");let U=(()=>{class t{constructor(){this.storage=new C}forKey(t){return new w(t,this.storage)}get(t){return this.storage.get(t)}remove(t){this.storage.remove(t)}set(t,e){this.storage.set(t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b.Kb({token:t,factory:t.\u0275fac}),t})();class w{constructor(t,e){this.key=t,this.storage=e}get(){return this.storage.get(this.key)}remove(){console.log("TemporaryStorageFacet remove"),this.storage.remove(this.key)}set(t){this.storage.set(this.key,t)}}class C{constructor(){this.cache=Object.create(null),this.storageKey="temp_session_storage",this.loadFromCache()}get(t){var e;return null!==(e=this.cache[t])&&void 0!==e?e:null}set(t,e){this.cache[t]=e,this.persistToCache()}remove(t){t in this.cache&&(delete this.cache[t],this.persistToCache())}loadFromCache(){try{const t=sessionStorage.getItem(this.storageKey);t&&Object.assign(this.cache,JSON.parse(t))}catch(t){console.warn("SessionStorageWrapper was unable to read from SessionStorage API."),console.error(t)}}persistToCache(){try{sessionStorage.setItem(this.storageKey,JSON.stringify(this.cache))}catch(t){console.warn("SessionStorageWrapper was unable to write to SessionStorage API."),console.error(t)}}}let k=(()=>{class t{constructor(t,e){this.temporaryStorageService=t,this.httService=e,this.storageTime=1e4,this._stop=new h.a,this.marketParticipantsTempStorage=t.forKey("market_participants")}startTimer(){console.log("start timer"),Object(c.a)(this.storageTime).pipe(Object(S.a)(this._stop)).subscribe(t=>this.clearTmpStorage())}stopTimer(){console.log("stop timer"),this._stop.next()}saveFiltersAndGetFilteredList(t){return this.saveStateInStorage(t),this.httService.getPage(t)}getStateFromStorage(){return this.marketParticipantsTempStorage.get()}saveStateInStorage(t){this.marketParticipantsTempStorage.set(t)}saveOrgUrlToStorage(t){const e=this.getStateFromStorage();this.saveStateInStorage(Object.assign(Object.assign({},e),{organizationUrl:t}))}getOrgUrlFromStorage(){const t=this.getStateFromStorage();return t&&t.organizationUrl}clearTmpStorage(){this.marketParticipantsTempStorage.remove()}}return t.\u0275fac=function(e){return new(e||t)(b.Yb(U),b.Yb(m))},t.\u0275prov=b.Kb({token:t,factory:t.\u0275fac}),t})();var I=a("lJxs"),D=a("pLZG"),A=a("wd/R"),O=a.n(A),B=a("+0xr");function P(t,e){1&t&&(b.Ub(0,"th",11),b.Bc(1," ID "),b.Tb())}function x(t,e){if(1&t&&(b.Ub(0,"td",12),b.Bc(1),b.Tb()),2&t){const t=e.$implicit;b.Cb(1),b.Dc(" ",t.fsrarId," ")}}function F(t,e){1&t&&(b.Ub(0,"th",11),b.Bc(1," TYPE "),b.Tb())}function N(t,e){if(1&t&&(b.Ub(0,"td",12),b.Bc(1),b.Tb()),2&t){const t=e.$implicit;b.Cb(1),b.Dc(" ",t.firmType," ")}}function R(t,e){1&t&&(b.Ub(0,"th",11),b.Bc(1," FULL_NAME "),b.Tb())}function j(t,e){if(1&t&&(b.Ub(0,"td",12),b.Bc(1),b.Tb()),2&t){const t=e.$implicit;b.Cb(1),b.Dc(" ",t.fullName," ")}}function L(t,e){1&t&&(b.Ub(0,"th",11),b.Bc(1," INN "),b.Tb())}function Y(t,e){if(1&t&&(b.Ub(0,"td",12),b.Bc(1),b.Tb()),2&t){const t=e.$implicit;b.Cb(1),b.Dc(" ",t.inn," ")}}function M(t,e){1&t&&(b.Ub(0,"th",11),b.Bc(1," KPP "),b.Tb())}function $(t,e){if(1&t&&(b.Ub(0,"td",12),b.Bc(1),b.Tb()),2&t){const t=e.$implicit;b.Cb(1),b.Dc(" ",t.kpp," ")}}function _(t,e){1&t&&b.Pb(0,"tr",13)}function z(t,e){if(1&t){const t=b.Vb();b.Ub(0,"tr",14),b.cc("click",function(){b.tc(t);const a=e.$implicit;return b.gc().goToDetail(a)}),b.Tb()}}let K=(()=>{class t{constructor(t,e,a,r){this.service=t,this.facade=e,this.route=a,this.router=r,this.displayedColumns=["fsrarId","firmType","fullName","inn","kpp"],this.dataSource=[],this.links=["\u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a \u0451\u043c\u043a\u043e\u0441\u0442\u0438","\u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a \u0441\u044b\u0440\u044c\u044f"],this.licFilters=[0,1,2,3].map(t=>({id:t,active:!1}))}ngOnInit(){const t=O.a.unix(1632147685).format("DD.MM.YYYY hh:mm");console.log(t);const e=O()("22.09.2021 21:00","DD MMM YYYY hh:mm").unix();O.a.unix(e),console.log(e),this.facade.getStateFromStorage()&&(this.filters=this.facade.getStateFromStorage()),this.service.getAllMarketParticipants().subscribe(t=>this.dataSource=t),this.service.getLicenseGroup().subscribe(t=>{var e,a;if(!this.filters||!(null===(a=null===(e=this.filters)||void 0===e?void 0:e.companyParams)||void 0===a?void 0:a.licenses_groups))return void(this.licFilters=t);const r=this.filters.companyParams.licenses_groups.split(",").map(t=>({title:t}));this.licFilters=t.map(t=>{const e=t;for(const a of r)t.title===a.title&&(e.active=!0);return e})})}ngAfterViewInit(){this.licGroupsFilters.changeFilter.pipe(Object(I.a)(t=>t.filter(t=>t.active)),Object(D.a)(t=>!!t)).subscribe(t=>{console.log(t),this.filters=Object.assign(Object.assign({},this.filters),{companyParams:{licenses_groups:t.map(t=>t.title).toString()}}),this.facade.saveFiltersAndGetFilteredList(this.filters)})}goToDetail(t){this.router.navigate([f.get(t.firmType)],{relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(b.Ob(m),b.Ob(k),b.Ob(r.a),b.Ob(r.e))},t.\u0275cmp=b.Ib({type:t,selectors:[["app-market-participants"]],viewQuery:function(t,e){if(1&t&&b.Fc(y,1),2&t){let t;b.qc(t=b.dc())&&(e.licGroupsFilters=t.first)}},decls:20,vars:8,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","fsrarId"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","firmType"],["matColumnDef","fullName"],["matColumnDef","inn"],["matColumnDef","kpp"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["group","type",3,"filters"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click"]],template:function(t,e){1&t&&(b.Ub(0,"table",0),b.Sb(1,1),b.Ac(2,P,2,0,"th",2),b.Ac(3,x,2,1,"td",3),b.Rb(),b.Sb(4,4),b.Ac(5,F,2,0,"th",2),b.Ac(6,N,2,1,"td",3),b.Rb(),b.Sb(7,5),b.Ac(8,R,2,0,"th",2),b.Ac(9,j,2,1,"td",3),b.Rb(),b.Sb(10,6),b.Ac(11,L,2,0,"th",2),b.Ac(12,Y,2,1,"td",3),b.Rb(),b.Sb(13,7),b.Ac(14,M,2,0,"th",2),b.Ac(15,$,2,1,"td",3),b.Rb(),b.Ac(16,_,1,0,"tr",8),b.Ac(17,z,1,0,"tr",9),b.Tb(),b.Ub(18,"div"),b.Pb(19,"app-filters",10),b.Tb()),2&t&&(b.xc("width","100%"),b.lc("dataSource",e.dataSource),b.Cb(16),b.lc("matHeaderRowDef",e.displayedColumns),b.Cb(1),b.lc("matRowDefColumns",e.displayedColumns),b.Cb(1),b.xc("margin-top","100","px"),b.Cb(1),b.lc("filters",e.licFilters))},directives:[B.j,B.c,B.e,B.b,B.g,B.i,y,B.d,B.a,B.f,B.h],styles:[""]}),t})();var G=a("vvyD"),J=a("bTqV"),H=a("Wp6s");function V(t,e){1&t&&(b.Ub(0,"mat-card",2),b.Ub(1,"mat-card-header"),b.Pb(2,"div",3),b.Ub(3,"mat-card-title"),b.Bc(4,"\u041f\u0420\u041e\u0418\u0417\u0412\u041e\u0414\u0421\u0422\u0412\u041e"),b.Tb(),b.Tb(),b.Ub(5,"mat-card-content"),b.Ub(6,"p"),b.Bc(7," The Shiba Inu is the smallest of the six original and distinct spitz breeds of dog from Japan. A small, agile dog that copes very well with mountainous terrain, the Shiba Inu was originally bred for hunting. "),b.Tb(),b.Tb(),b.Tb())}function E(t,e){1&t&&(b.Ub(0,"mat-card",2),b.Ub(1,"mat-card-header"),b.Pb(2,"div",3),b.Ub(3,"mat-card-title"),b.Bc(4,"\u0418\u041c\u041f\u041e\u0420\u0422\u0415\u0420 \u041e\u041f\u0422\u041e\u0412\u0418\u041a"),b.Tb(),b.Ub(5,"mat-card-subtitle"),b.Bc(6,"Dog Breed"),b.Tb(),b.Tb(),b.Ub(7,"mat-card-content"),b.Ub(8,"p"),b.Bc(9," The Shiba Inu is the smallest of the six original and distinct spitz breeds of dog from Japan. A small, agile dog that copes very well with mountainous terrain, the Shiba Inu was originally bred for hunting. "),b.Tb(),b.Tb(),b.Tb())}function W(t,e){1&t&&(b.Ub(0,"mat-card",2),b.Ub(1,"mat-card-header"),b.Pb(2,"div",3),b.Ub(3,"mat-card-title"),b.Bc(4,"\u0418\u041c\u041f\u041e\u0420\u0422"),b.Tb(),b.Ub(5,"mat-card-subtitle"),b.Bc(6,"Dog Breed"),b.Tb(),b.Tb(),b.Ub(7,"mat-card-content"),b.Ub(8,"p"),b.Bc(9," The Shiba Inu is the smallest of the six original and distinct spitz breeds of dog from Japan. A small, agile dog that copes very well with mountainous terrain, the Shiba Inu was originally bred for hunting. "),b.Tb(),b.Tb(),b.Tb())}function X(t,e){1&t&&(b.Ub(0,"mat-card",2),b.Ub(1,"mat-card-header"),b.Pb(2,"div",3),b.Ub(3,"mat-card-title"),b.Bc(4,"\u041f\u0415\u0420\u0415\u0412\u041e\u0417\u0427\u0418\u041a"),b.Tb(),b.Ub(5,"mat-card-subtitle"),b.Bc(6,"Dog Breed"),b.Tb(),b.Tb(),b.Ub(7,"mat-card-content"),b.Ub(8,"p"),b.Bc(9," The Shiba Inu is the smallest of the six original and distinct spitz breeds of dog from Japan. A small, agile dog that copes very well with mountainous terrain, the Shiba Inu was originally bred for hunting. "),b.Tb(),b.Tb(),b.Tb())}let q=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Ib({type:t,selectors:[["app-statistic"]],inputs:{type:"type"},decls:15,vars:4,consts:[["fxLayout","row","fxLayoutGap","20px"],["class","example-card",4,"ngIf"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"]],template:function(t,e){1&t&&(b.Ub(0,"section",0),b.Ac(1,V,8,0,"mat-card",1),b.Ac(2,E,10,0,"mat-card",1),b.Ac(3,W,10,0,"mat-card",1),b.Ac(4,X,10,0,"mat-card",1),b.Ub(5,"mat-card",2),b.Ub(6,"mat-card-header"),b.Pb(7,"div",3),b.Ub(8,"mat-card-title"),b.Bc(9,"\u041e\u0421\u0422\u0410\u0422\u041a\u0418"),b.Tb(),b.Ub(10,"mat-card-subtitle"),b.Bc(11,"Dog Breed"),b.Tb(),b.Tb(),b.Ub(12,"mat-card-content"),b.Ub(13,"p"),b.Bc(14," The Shiba Inu is the smallest of the six original and distinct spitz breeds of dog from Japan. A small, agile dog that copes very well with mountainous terrain, the Shiba Inu was originally bred for hunting. "),b.Tb(),b.Tb(),b.Tb(),b.Tb()),2&t&&(b.Cb(1),b.lc("ngIf","maker"===e.type||"maker-wholesaler"===e.type),b.Cb(1),b.lc("ngIf","wholesaler-importer"===e.type),b.Cb(1),b.lc("ngIf","wholesaler-importer"===e.type),b.Cb(1),b.lc("ngIf","wholesaler-carrier"===e.type))},directives:[d.c,d.d,g.l,H.a,H.e,H.c,H.i,H.h,H.d],styles:[""]}),t})();function Q(t,e){1&t&&(b.Ub(0,"th",10),b.Bc(1," ID "),b.Tb())}function Z(t,e){if(1&t&&(b.Ub(0,"td",11),b.Bc(1),b.Tb()),2&t){const t=e.$implicit;b.Cb(1),b.Dc(" ",t.fsrarId," ")}}function tt(t,e){1&t&&(b.Ub(0,"th",10),b.Bc(1," TYPE "),b.Tb())}function et(t,e){if(1&t&&(b.Ub(0,"td",11),b.Bc(1),b.Tb()),2&t){const t=e.$implicit;b.Cb(1),b.Dc(" ",t.firmType," ")}}function at(t,e){1&t&&(b.Ub(0,"th",10),b.Bc(1," FULL_NAME "),b.Tb())}function rt(t,e){if(1&t&&(b.Ub(0,"td",11),b.Bc(1),b.Tb()),2&t){const t=e.$implicit;b.Cb(1),b.Dc(" ",t.fullName," ")}}function it(t,e){1&t&&(b.Ub(0,"th",10),b.Bc(1," INN "),b.Tb())}function ct(t,e){if(1&t&&(b.Ub(0,"td",11),b.Bc(1),b.Tb()),2&t){const t=e.$implicit;b.Cb(1),b.Dc(" ",t.inn," ")}}function nt(t,e){1&t&&(b.Ub(0,"th",10),b.Bc(1," KPP "),b.Tb())}function st(t,e){if(1&t&&(b.Ub(0,"td",11),b.Bc(1),b.Tb()),2&t){const t=e.$implicit;b.Cb(1),b.Dc(" ",t.kpp," ")}}function ot(t,e){1&t&&b.Pb(0,"tr",12)}function lt(t,e){if(1&t){const t=b.Vb();b.Ub(0,"tr",13),b.cc("click",function(){b.tc(t);const a=e.$implicit;return b.gc().goToDetail(a)}),b.Tb()}}let ut=(()=>{class t{constructor(t,e,a){this.service=t,this.route=e,this.router=a,this.type=f.values().next().value,this.displayedColumns=["fsrarId","firmType","fullName","inn","kpp"],this.dataSource=[]}ngOnInit(){this.service.getCounterparties().subscribe(t=>this.dataSource=t)}goToDetail(t){console.log(this.route),this.router.navigate([f.get(t.firmType)],{relativeTo:this.route.parent})}}return t.\u0275fac=function(e){return new(e||t)(b.Ob(m),b.Ob(r.a),b.Ob(r.e))},t.\u0275cmp=b.Ib({type:t,selectors:[["app-table"]],inputs:{type:"type"},decls:18,vars:5,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","fsrarId"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","firmType"],["matColumnDef","fullName"],["matColumnDef","inn"],["matColumnDef","kpp"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click"]],template:function(t,e){1&t&&(b.Ub(0,"table",0),b.Sb(1,1),b.Ac(2,Q,2,0,"th",2),b.Ac(3,Z,2,1,"td",3),b.Rb(),b.Sb(4,4),b.Ac(5,tt,2,0,"th",2),b.Ac(6,et,2,1,"td",3),b.Rb(),b.Sb(7,5),b.Ac(8,at,2,0,"th",2),b.Ac(9,rt,2,1,"td",3),b.Rb(),b.Sb(10,6),b.Ac(11,it,2,0,"th",2),b.Ac(12,ct,2,1,"td",3),b.Rb(),b.Sb(13,7),b.Ac(14,nt,2,0,"th",2),b.Ac(15,st,2,1,"td",3),b.Rb(),b.Ac(16,ot,1,0,"tr",8),b.Ac(17,lt,1,0,"tr",9),b.Tb()),2&t&&(b.xc("width","100%"),b.lc("dataSource",e.dataSource),b.Cb(16),b.lc("matHeaderRowDef",e.displayedColumns),b.Cb(1),b.lc("matRowDefColumns",e.displayedColumns))},directives:[B.j,B.c,B.e,B.b,B.g,B.i,B.d,B.a,B.f,B.h],styles:[""]}),t})();const bt=function(){return["../"]};function pt(t,e){if(1&t&&(b.Sb(0),b.Ub(1,"p"),b.Bc(2),b.hc(3,"uppercase"),b.Tb(),b.Ub(4,"button",1),b.Bc(5,"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443"),b.Tb(),b.Ub(6,"div",2),b.Pb(7,"app-statistic",3),b.Pb(8,"app-table",3),b.Tb(),b.Rb()),2&t){const t=e.ngIf;b.Cb(2),b.Dc("market-participant-detail for ",b.ic(3,4,t)," works!"),b.Cb(2),b.lc("routerLink",b.nc(6,bt)),b.Cb(3),b.lc("type",t),b.Cb(1),b.lc("type",t)}}let mt=(()=>{class t{constructor(t){this.route=t,this.type$=t.paramMap.pipe(Object(l.a)(t=>console.log(t.get("marketParticipantUrl"))),Object(I.a)(t=>t.get("marketParticipantUrl")))}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(b.Ob(r.a))},t.\u0275cmp=b.Ib({type:t,selectors:[["app-market-participant-detail"]],decls:2,vars:3,consts:[[4,"ngIf"],["mat-raised-button","",3,"routerLink"],["fxLayout","row","fxLayoutGap","20px"],[3,"type"]],template:function(t,e){1&t&&(b.Ac(0,pt,9,7,"ng-container",0),b.hc(1,"async")),2&t&&b.lc("ngIf",b.ic(1,1,e.type$))},directives:[g.l,J.a,r.f,d.c,d.d,q,ut],pipes:[g.b,g.t],styles:[""]}),t})();var ft=a("3Pt+"),ht=a("+NYR");let dt=(()=>{class t{constructor(t,e,a){this._router=t,this.navigationService=e,this.facade=a}canActivate(t,e){if(this.previousUrl=0!==this.navigationService.history.length?this.navigationService.history.slice(-1)[0]:null,this.previousUrl&&!this.previousUrl.includes("market-participants")){console.log("another route");const t=this.facade.getOrgUrlFromStorage();if(t)return this._router.navigate([t]).then(t=>{console.log(t)}).catch(t=>console.log("Navigation fails",t)),!1}return!0}}return t.\u0275fac=function(e){return new(e||t)(b.Yb(r.e),b.Yb(ht.a),b.Yb(k))},t.\u0275prov=b.Kb({token:t,factory:t.\u0275fac}),t})(),gt=(()=>{class t{constructor(t){this.facade=t}canDeactivate(t,e,a,r){return r&&!r.url.includes("market-participants")&&(this.facade.saveOrgUrlToStorage(a.url),this.facade.startTimer()),!0}}return t.\u0275fac=function(e){return new(e||t)(b.Yb(k))},t.\u0275prov=b.Kb({token:t,factory:t.\u0275fac}),t})(),vt=(()=>{class t{constructor(t){this.facade=t}canDeactivate(t,e,a,r){return console.log("ListGuardService"),console.log(r.url),r&&!r.url.includes("market-participants")&&this.facade.clearTmpStorage(),!0}}return t.\u0275fac=function(e){return new(e||t)(b.Yb(k))},t.\u0275prov=b.Kb({token:t,factory:t.\u0275fac}),t})(),Tt=(()=>{class t{constructor(t,e,a){this._router=t,this.navigationService=e,this.facade=a}canActivate(t,e){return console.log("CanActivateParticipantItemGuardService"),console.log("state",e),console.log("ActivatedRouteSnapshot",t),this.previousUrl=0!==this.navigationService.history.length?this.navigationService.history.slice(-1)[0]:null,console.log("this.previousUrl",this.previousUrl),this.previousUrl&&!this.previousUrl.includes("market-participants")&&(console.log("another route"),this.facade.stopTimer()),!0}}return t.\u0275fac=function(e){return new(e||t)(b.Yb(r.e),b.Yb(ht.a),b.Yb(k))},t.\u0275prov=b.Kb({token:t,factory:t.\u0275fac}),t})();const yt=[{path:"",component:K,canActivate:[dt],canDeactivate:[vt]},{path:":marketParticipantUrl",component:mt,canActivate:[Tt],canDeactivate:[gt]}];let St=(()=>{class t{}return t.\u0275mod=b.Mb({type:t}),t.\u0275inj=b.Lb({factory:function(e){return new(e||t)},providers:[m,k,U,dt,Tt,gt,vt],imports:[[g.c,r.i.forChild(yt),G.a,d.e,ft.s],r.i]}),t})()}}]);