(self.webpackChunkangular_widget=self.webpackChunkangular_widget||[]).push([[533],{4533:(Z,d,o)=>{o.r(d),o.d(d,{TablesModule:()=>U});var T=o(5508),C=o(3929),g=o(7880),s=o(7579),b=o(1135),p=o(3900),x=o(8675),v=o(3099),S=o(4004),y=o(9770),E=o(8746);class I{constructor(n,a,l=10){this.endpoint=n,this.pageSize=l,this.pageNumber=new s.x,this.loading=new s.x,this.loading$=this.loading.asObservable(),this.query=new b.X(a),this.page$=this.query.pipe((0,p.w)(r=>this.pageNumber.pipe((0,x.O)(0),(0,p.w)(m=>this.endpoint({page:m,size:this.pageSize},r).pipe(function D(e){return n=>n.pipe(function w(e){return n=>(0,y.P)(()=>(e(),n))}(()=>e.next(!0)),(0,E.x)(()=>e.next(!1)))}(this.loading))))),(0,v.B)())}queryBy(n){const l={...this.query.getValue(),...n};this.query.next(l)}fetch(n){this.pageNumber.next(n)}connect(){return this.page$.pipe((0,S.U)(n=>n.rows))}disconnect(){}}var t=o(6386),c=o(6823),f=o(9549),M=o(4144),O=o(7392),i=o(7155),P=o(7974),h=o(3848);function z(e,n){1&e&&(t.\u0275\u0275elementStart(0,"th",17),t.\u0275\u0275text(1," \u0418\u0414"),t.\u0275\u0275elementEnd())}function V(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"td",18),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&e){const a=n.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",a.id," ")}}function $(e,n){1&e&&(t.\u0275\u0275elementStart(0,"th",17),t.\u0275\u0275text(1," \u0422\u0438\u043f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430"),t.\u0275\u0275elementEnd())}function j(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"td",18),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&e){const a=n.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",a.docType," ")}}function B(e,n){1&e&&(t.\u0275\u0275elementStart(0,"th",17),t.\u0275\u0275text(1," \u0421\u0442\u0430\u0442\u0443\u0441"),t.\u0275\u0275elementEnd())}function F(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"td",18),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&e){const a=n.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",a.state," ")}}function N(e,n){1&e&&(t.\u0275\u0275elementStart(0,"th",17),t.\u0275\u0275text(1," \u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"),t.\u0275\u0275elementEnd())}function R(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"td",18),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&e){const a=n.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",a.createTimestamp," ")}}function A(e,n){1&e&&(t.\u0275\u0275elementStart(0,"th",17),t.\u0275\u0275text(1," \u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442 \u0418\u0414"),t.\u0275\u0275elementEnd())}function H(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"td",18),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&e){const a=n.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",a.uuid," ")}}function Q(e,n){1&e&&t.\u0275\u0275element(0,"tr",19)}function X(e,n){if(1&e){const a=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"tr",20),t.\u0275\u0275listener("click",function(){const m=t.\u0275\u0275restoreView(a).$implicit,u=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(u.rowClicked(m))}),t.\u0275\u0275elementEnd()}}const W=function(){return[5,10,25,100]};function G(e,n){if(1&e){const a=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-paginator",21),t.\u0275\u0275listener("page",function(r){t.\u0275\u0275restoreView(a);const m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.data.fetch(r))}),t.\u0275\u0275elementEnd()}if(2&e){const a=n.ngIf;t.\u0275\u0275property("pageSizeOptions",t.\u0275\u0275pureFunction0(4,W))("length",a.total)("pageSize",a.size)("pageIndex",a.number)}}let K=(()=>{class e{constructor(a){this.dataService=a,this.displayedColumns=["id","docType","state","createTimestamp","uuid"]}ngOnInit(){this.data=new I((a,l)=>this.dataService.list(a,l),{filter:""},10)}rowClicked(a){console.log(a)}}return e.\u0275fac=function(a){return new(a||e)(t.\u0275\u0275directiveInject(g.D))},e.\u0275cmp=t.\u0275\u0275defineComponent({type:e,selectors:[["app-tables-tab"]],decls:29,vars:6,consts:[["label","\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b"],[1,"search"],["matPrefix",""],["type","text","matInput","","placeholder","Search",3,"input"],["in",""],["mat-table","","matSort","",1,"ci-out-doc-table","ci-handset-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","docType"],["matColumnDef","state"],["matColumnDef","createTimestamp"],["matColumnDef","uuid"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions","length","pageSize","pageIndex","page",4,"ngIf"],["label","\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click"],[3,"pageSizeOptions","length","pageSize","pageIndex","page"]],template:function(a,l){if(1&a){const r=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-tab-group")(1,"mat-tab",0)(2,"div")(3,"mat-form-field",1)(4,"mat-icon",2),t.\u0275\u0275text(5,"search"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"input",3,4),t.\u0275\u0275listener("input",function(){t.\u0275\u0275restoreView(r);const u=t.\u0275\u0275reference(7);return t.\u0275\u0275resetView(l.data.queryBy({filter:u.value}))}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(8,"table",5),t.\u0275\u0275elementContainerStart(9,6),t.\u0275\u0275template(10,z,2,0,"th",7),t.\u0275\u0275template(11,V,2,1,"td",8),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(12,9),t.\u0275\u0275template(13,$,2,0,"th",7),t.\u0275\u0275template(14,j,2,1,"td",8),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(15,10),t.\u0275\u0275template(16,B,2,0,"th",7),t.\u0275\u0275template(17,F,2,1,"td",8),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(18,11),t.\u0275\u0275template(19,N,2,0,"th",7),t.\u0275\u0275template(20,R,2,1,"td",8),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(21,12),t.\u0275\u0275template(22,A,2,0,"th",7),t.\u0275\u0275template(23,H,2,1,"td",8),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(24,Q,1,0,"tr",13),t.\u0275\u0275template(25,X,1,0,"tr",14),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(26,G,1,5,"mat-paginator",15),t.\u0275\u0275pipe(27,"async"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(28,"mat-tab",16),t.\u0275\u0275elementEnd()}2&a&&(t.\u0275\u0275advance(8),t.\u0275\u0275property("dataSource",l.data),t.\u0275\u0275advance(16),t.\u0275\u0275property("matHeaderRowDef",l.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("matRowDefColumns",l.displayedColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(27,4,l.data.page$)))},dependencies:[c.NgIf,f.KE,f.qo,M.Nt,O.Hw,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,P.NW,h.SP,h.uX,c.AsyncPipe],styles:[".ci-out-doc-table[_ngcontent-%COMP%]{width:100%;padding:24px;table-layout:fixed}.ci-out-doc-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2), td[_ngcontent-%COMP%]:nth-child(5), td[_ngcontent-%COMP%]:nth-child(6){overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.mat-row[_ngcontent-%COMP%]{cursor:pointer}.mat-cell[_ngcontent-%COMP%]:first-of-type, .mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0!important;padding-left:initial!important}"]}),e})(),U=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=t.\u0275\u0275defineInjector({imports:[T.m,C.RouterModule.forChild([{path:"",component:K}])]}),e})()}}]);