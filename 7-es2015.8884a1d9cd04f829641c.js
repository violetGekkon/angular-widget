(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{pU93:function(t,e,n){"use strict";n.r(e),n.d(e,"SettingsModule",function(){return S});var i=n("qTtY"),s=n("tyNb"),o=n("fXoL"),l=n("jtHE"),c=n("XNiG"),r=n("xgIS"),a=n("1G5W"),h=n("3UWI"),d=n("/uUt"),g=n("ofXK"),m=n("vxfF");class p{constructor(t,e){this.element=t,this.index=e,this._top=0}setTop(t,e){console.log(this.element.id+" top = "+this.element.getBoundingClientRect().top),this._top=e+this.element.getBoundingClientRect().top-t,console.log("elem.top = "+this._top)}}class f{constructor(t){this.activeElement=new l.a(1),this.scrollWatchedElements=t.map((t,e)=>new p(t,e))}calculate(t,e){this.scrollWatchedElements.forEach(n=>{n.setTop(t,e)}),this.scrollWatchedElements.sort((t,e)=>e._top-t._top)}onScroll(t,e){let n=null;t+1>=e?n=this.scrollWatchedElements[0]:this.scrollWatchedElements.some(e=>e._top<=t&&(n=e,!0)),this.activeElement.next(n)}}let u=(()=>{class t{constructor(t,e){this.doc=t,this.scroll=e,this.matContainer=this.doc.querySelector("mat-sidenav-content"),this.scrollWatchedElementSets=[],this.stopTrack$=new c.a,this.scrollEvents=this.scroll.scrolled(10).pipe(Object(a.a)(this.stopTrack$)),this.resizeEvents=Object(r.a)(window,"resize").pipe(Object(h.a)(300),Object(a.a)(this.stopTrack$))}watch(t){console.log("-------------------------------------------------------------------------"),this.scrollWatchedElementSets.length||(console.log("this.scrollWatchedElementSets.length === 0"),this.scrollEvents.subscribe(()=>this.onScroll()),this.resizeEvents.subscribe(()=>this.onResize()),this.onResize());const e=this.matContainer.scrollTop;console.log("scrollTop = "+e);const n=this.matContainer.scrollHeight;console.log("maxScrollHeight = "+n);const i=this.getTopOffset();console.log("topOffset = "+i);const s=new f(t);return s.calculate(i,e),s.onScroll(e,n),this.scrollWatchedElementSets.push(s),{active:s.activeElement.asObservable().pipe(Object(d.a)()),stopWatching:()=>this.stopWatching(s)}}onScroll(){this.scrollHeight!==this.matContainer.scrollHeight&&this.onResize();const t=this.matContainer.scrollTop,e=this.matContainer.scrollHeight;this.scrollWatchedElementSets.forEach(n=>n.onScroll(t,e))}onResize(){console.log("onResize"),this.scrollHeight=this.matContainer.scrollHeight,console.log("scrollHeight = "+this.scrollHeight),this.maxScrollHeight=this.scrollHeight-this.matContainer.clientHeight;const t=this.getTopOffset(),e=this.matContainer.scrollTop;console.log("matContainer.scrollTop = "+e),this.scrollWatchedElementSets.forEach(n=>n.calculate(t,e))}getTopOffset(){const t=document.querySelector("mat-toolbar");return t&&t.clientHeight+30||0}stopWatching(t){t.activeElement.complete(),this.scrollWatchedElementSets=this.scrollWatchedElementSets.filter(e=>e!==t),this.scrollWatchedElementSets.length||this.stopTrack$.next()}}return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275inject"](g.d),o["\u0275\u0275inject"](m.c))},t.\u0275prov=o["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var v=n("znSr");const x=["settingsContainer"],E=function(t){return{"ci-settings-list-item-active":t}};function w(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"li"),o["\u0275\u0275elementStart"](1,"a",10),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit,n=e.index,i=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction1"](3,E,n===i.activeIndex))("fragment",t.fragment),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",t.title,"")}}let C=(()=>{class t{constructor(t){this.scrollWatcherService=t,this.activeIndex=null,this.settingsList=[{title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0423\u0422\u041c",fragment:"utm"},{title:"IP-\u0444\u0438\u043b\u044c\u0442\u0440",fragment:"ipfilter"},{title:"XML \u0441\u0445\u0435\u043c\u044b",fragment:"xsd"},{title:"\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b",fragment:"certificates"}],this.settingItems=[{id:"utm",header:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0423\u0422\u041c"},{id:"ipfilter",header:"\u0424\u0438\u043b\u044c\u0442\u0440 IP-\u0430\u0434\u0440\u0435\u0441\u043e\u0432"},{id:"xsd",header:"XML c\u0445\u0435\u043c\u044b"},{id:"certificates",header:"\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b"}]}ngOnInit(){}ngAfterViewInit(){this.settingsContainers.forEach(t=>console.log(t.nativeElement.getBoundingClientRect().top))}}return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](u))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["app-settings-page"]],viewQuery:function(t,e){if(1&t&&o["\u0275\u0275viewQuery"](x,1,o.ElementRef),2&t){let t;o["\u0275\u0275queryRefresh"](t=o["\u0275\u0275loadQuery"]())&&(e.settingsContainers=t)}},decls:22,vars:1,consts:[[1,"ci-settings-viewer"],[1,"ci-settings-viewer-content"],["id","utm",1,"ci-settings-content-card"],["settingsContainer",""],[1,"ci-heading"],["id","ipfilter",1,"ci-settings-content-card"],["id","xsd",1,"ci-settings-content-card"],["id","certificates",1,"ci-settings-content-card"],[1,"ci-settings-viewer-list"],[4,"ngFor","ngForOf"],["routerLink","/settings","routerLinkActiveOptions","{exact:true}",1,"ci-link",3,"ngClass","fragment"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"div",1),o["\u0275\u0275elementStart"](2,"div",2,3),o["\u0275\u0275elementStart"](4,"h3",4),o["\u0275\u0275text"](5,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0423\u0422\u041c"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",5,3),o["\u0275\u0275elementStart"](8,"h3",4),o["\u0275\u0275text"](9,"\u0424\u0438\u043b\u044c\u0442\u0440 IP-\u0430\u0434\u0440\u0435\u0441\u043e\u0432"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"div",6,3),o["\u0275\u0275elementStart"](12,"h3",4),o["\u0275\u0275text"](13,"XML c\u0445\u0435\u043c\u044b"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](14,"div"),o["\u0275\u0275elementStart"](15,"div",7,3),o["\u0275\u0275elementStart"](17,"h3",4),o["\u0275\u0275text"](18,"\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](19,"div",8),o["\u0275\u0275elementStart"](20,"ul"),o["\u0275\u0275template"](21,w,3,5,"li",9),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](21),o["\u0275\u0275property"]("ngForOf",e.settingsList))},directives:[g.k,s.c,g.j,v.a],styles:[".ci-settings-viewer-content[_ngcontent-%COMP%]{font-size:15px;max-width:85%}.ci-settings-viewer-content[_ngcontent-%COMP%], .ci-settings-viewer-list[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ci-settings-viewer-list[_ngcontent-%COMP%]{padding:5px 0 10px 16px;border-left:2px solid #0b5ca6;position:fixed;top:100px;right:0;width:12%}.ci-settings-viewer-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;margin:0 0 5px;padding:0;overflow:hidden}.ci-settings-viewer-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:15px;line-height:16px;margin:0;padding:5px 15px 5px 0}.ci-settings-viewer-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{opacity:.6;color:#0b5ca6;font-weight:400;-webkit-transition:opacity .3s ease-in-out;transition:opacity .3s ease-in-out}.ci-settings-viewer-list[_ngcontent-%COMP%]   a.ci-settings-list-item-active[_ngcontent-%COMP%], .ci-settings-viewer-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1}.ci-settings-content-card[_ngcontent-%COMP%]{margin-bottom:35px;background:#fff;border:1px solid #e0e4e7;padding:12px;height:400px}"]}),t})(),S=(()=>{class t{}return t.\u0275mod=o["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[i.a,s.d.forChild([{path:"",component:C}])]]}),t})()}}]);