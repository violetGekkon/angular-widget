!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{pU93:function(e,i,o){"use strict";o.r(i),o.d(i,"SettingsModule",function(){return S});var s,c=o("qTtY"),l=o("tyNb"),r=o("fXoL"),a=o("jtHE"),h=o("XNiG"),g=o("xgIS"),u=o("1G5W"),f=o("3UWI"),p=o("/uUt"),d=o("ofXK"),b=o("vxfF"),m=function(){function e(n,i){t(this,e),this.element=n,this.index=i,this._top=0}return n(e,[{key:"setTop",value:function(t,e){console.log(this.element.id+" top = "+this.element.getBoundingClientRect().top),this._top=e+this.element.getBoundingClientRect().top-t,console.log("elem.top = "+this._top)}}]),e}(),v=function(){function e(n){t(this,e),this.activeElement=new a.a(1),this.scrollWatchedElements=n.map(function(t,e){return new m(t,e)})}return n(e,[{key:"calculate",value:function(t,e){this.scrollWatchedElements.forEach(function(n){n.setTop(t,e)}),this.scrollWatchedElements.sort(function(t,e){return e._top-t._top})}},{key:"onScroll",value:function(t,e){var n=null;t+1>=e?n=this.scrollWatchedElements[0]:this.scrollWatchedElements.some(function(e){return e._top<=t&&(n=e,!0)}),this.activeElement.next(n)}}]),e}(),w=((s=function(){function e(n,i){t(this,e),this.doc=n,this.scroll=i,this.matContainer=this.doc.querySelector("mat-sidenav-content"),this.scrollWatchedElementSets=[],this.stopTrack$=new h.a,this.scrollEvents=this.scroll.scrolled(10).pipe(Object(u.a)(this.stopTrack$)),this.resizeEvents=Object(g.a)(window,"resize").pipe(Object(f.a)(300),Object(u.a)(this.stopTrack$))}return n(e,[{key:"watch",value:function(t){var e=this;console.log("-------------------------------------------------------------------------"),this.scrollWatchedElementSets.length||(console.log("this.scrollWatchedElementSets.length === 0"),this.scrollEvents.subscribe(function(){return e.onScroll()}),this.resizeEvents.subscribe(function(){return e.onResize()}),this.onResize());var n=this.matContainer.scrollTop;console.log("scrollTop = "+n);var i=this.matContainer.scrollHeight;console.log("maxScrollHeight = "+i);var o=this.getTopOffset();console.log("topOffset = "+o);var s=new v(t);return s.calculate(o,n),s.onScroll(n,i),this.scrollWatchedElementSets.push(s),{active:s.activeElement.asObservable().pipe(Object(p.a)()),stopWatching:function(){return e.stopWatching(s)}}}},{key:"onScroll",value:function(){this.scrollHeight!==this.matContainer.scrollHeight&&this.onResize();var t=this.matContainer.scrollTop,e=this.matContainer.scrollHeight;this.scrollWatchedElementSets.forEach(function(n){return n.onScroll(t,e)})}},{key:"onResize",value:function(){console.log("onResize"),this.scrollHeight=this.matContainer.scrollHeight,console.log("scrollHeight = "+this.scrollHeight),this.maxScrollHeight=this.scrollHeight-this.matContainer.clientHeight;var t=this.getTopOffset(),e=this.matContainer.scrollTop;console.log("matContainer.scrollTop = "+e),this.scrollWatchedElementSets.forEach(function(n){return n.calculate(t,e)})}},{key:"getTopOffset",value:function(){var t=document.querySelector("mat-toolbar");return t&&t.clientHeight+30||0}},{key:"stopWatching",value:function(t){t.activeElement.complete(),this.scrollWatchedElementSets=this.scrollWatchedElementSets.filter(function(e){return e!==t}),this.scrollWatchedElementSets.length||this.stopTrack$.next()}}]),e}()).\u0275fac=function(t){return new(t||s)(r.Yb(d.d),r.Yb(b.c))},s.\u0275prov=r.Kb({token:s,factory:s.\u0275fac,providedIn:"root"}),s),x=o("znSr"),C=["settingsContainer"],y=function(t){return{"ci-settings-list-item-active":t}};function O(t,e){if(1&t&&(r.Ub(0,"li"),r.Ub(1,"a",10),r.Bc(2),r.Tb(),r.Tb()),2&t){var n=e.$implicit,i=e.index,o=r.gc();r.Cb(1),r.lc("ngClass",r.oc(3,y,i===o.activeIndex))("fragment",n.fragment),r.Cb(1),r.Dc(" ",n.title,"")}}var T,E,k=((E=function(){function e(n){t(this,e),this.scrollWatcherService=n,this.activeIndex=null,this.settingsList=[{title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0423\u0422\u041c",fragment:"utm"},{title:"IP-\u0444\u0438\u043b\u044c\u0442\u0440",fragment:"ipfilter"},{title:"XML \u0441\u0445\u0435\u043c\u044b",fragment:"xsd"},{title:"\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b",fragment:"certificates"}],this.settingItems=[{id:"utm",header:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0423\u0422\u041c"},{id:"ipfilter",header:"\u0424\u0438\u043b\u044c\u0442\u0440 IP-\u0430\u0434\u0440\u0435\u0441\u043e\u0432"},{id:"xsd",header:"XML c\u0445\u0435\u043c\u044b"},{id:"certificates",header:"\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b"}]}return n(e,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.settingsContainers.forEach(function(t){return console.log(t.nativeElement.getBoundingClientRect().top)})}}]),e}()).\u0275fac=function(t){return new(t||E)(r.Ob(w))},E.\u0275cmp=r.Ib({type:E,selectors:[["app-settings-page"]],viewQuery:function(t,e){var n;1&t&&r.Fc(C,1,r.l),2&t&&r.qc(n=r.dc())&&(e.settingsContainers=n)},decls:22,vars:1,consts:[[1,"ci-settings-viewer"],[1,"ci-settings-viewer-content"],["id","utm",1,"ci-settings-content-card"],["settingsContainer",""],[1,"ci-heading"],["id","ipfilter",1,"ci-settings-content-card"],["id","xsd",1,"ci-settings-content-card"],["id","certificates",1,"ci-settings-content-card"],[1,"ci-settings-viewer-list"],[4,"ngFor","ngForOf"],["routerLink","/settings","routerLinkActiveOptions","{exact:true}",1,"ci-link",3,"ngClass","fragment"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"div",2,3),r.Ub(4,"h3",4),r.Bc(5,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0423\u0422\u041c"),r.Tb(),r.Tb(),r.Ub(6,"div",5,3),r.Ub(8,"h3",4),r.Bc(9,"\u0424\u0438\u043b\u044c\u0442\u0440 IP-\u0430\u0434\u0440\u0435\u0441\u043e\u0432"),r.Tb(),r.Tb(),r.Ub(10,"div",6,3),r.Ub(12,"h3",4),r.Bc(13,"XML c\u0445\u0435\u043c\u044b"),r.Tb(),r.Ub(14,"div"),r.Ub(15,"div",7,3),r.Ub(17,"h3",4),r.Bc(18,"\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b"),r.Tb(),r.Tb(),r.Tb(),r.Ub(19,"div",8),r.Ub(20,"ul"),r.Ac(21,O,3,5,"li",9),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Cb(21),r.lc("ngForOf",e.settingsList))},directives:[d.k,l.h,d.j,x.a],styles:[".ci-settings-viewer-content[_ngcontent-%COMP%]{font-size:15px;max-width:85%}.ci-settings-viewer-content[_ngcontent-%COMP%], .ci-settings-viewer-list[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ci-settings-viewer-list[_ngcontent-%COMP%]{padding:5px 0 10px 16px;border-left:2px solid #0b5ca6;position:fixed;top:100px;right:0;width:12%}.ci-settings-viewer-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;margin:0 0 5px;padding:0;overflow:hidden}.ci-settings-viewer-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:15px;line-height:16px;margin:0;padding:5px 15px 5px 0}.ci-settings-viewer-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{opacity:.6;color:#0b5ca6;font-weight:400;-webkit-transition:opacity .3s ease-in-out;transition:opacity .3s ease-in-out}.ci-settings-viewer-list[_ngcontent-%COMP%]   a.ci-settings-list-item-active[_ngcontent-%COMP%], .ci-settings-viewer-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1}.ci-settings-content-card[_ngcontent-%COMP%]{margin-bottom:35px;background:#fff;border:1px solid #e0e4e7;padding:12px;height:400px}"]}),E),S=((T=function e(){t(this,e)}).\u0275mod=r.Mb({type:T}),T.\u0275inj=r.Lb({factory:function(t){return new(t||T)},imports:[[c.a,l.i.forChild([{path:"",component:k}])]]}),T)}}])}();